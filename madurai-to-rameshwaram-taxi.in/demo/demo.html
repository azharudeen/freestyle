<!DOCTYPE html>
<html lang="en">

<head>
  <title>Bootstrap 4 Website Example</title>
 
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.css" rel="stylesheet" type="text/css"
  />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>
   <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=places"></script>
  
  <style>
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    
  </style>
  <script>
  function initialize() {
  var options = {
    types: ['(cities)'],//show cities only
    componentRestrictions: { country: 'in' ,state: 'tn' }//india only
  };
  var input = document.getElementById('searchTextField');
  new google.maps.places.Autocomplete(input, options);
}

google.maps.event.addDomListener(window, 'load', initialize);
  function calculateDistances() {
      var totalKmAmount = 0;
      var totalKm_rate;
      var perKmFare;
      var vehicleType = document.getElementById('vehicleTypes').value;
      var kms = parseInt(document.getElementById('dest').value);
      var sd = $('#datepicker-1').datepicker('getDate');
      var ed = $('#datepicker-2').datepicker('getDate');
      //var dateStartObject = new Date(Date.parse(sd)).toDateString();
      //var dateEndObject = new Date(Date.parse(ed)).toDateString();
      var startDate = $('#datepicker-1').datepicker('getDate').getTime();
      var endDate = $('#datepicker-2').datepicker('getDate').getTime();
      var c = 24 * 60 * 60 * 1000;
      var diffDays = Math.round(Math.abs((startDate - endDate) / (c))) + 1;
	  console.log(diffDays);
      var driverAllowance = 250 * diffDays;
      document.getElementById('totalKm').innerText = kms;
      document.getElementById('totalKm2').innerText = kms;
	   if (document.getElementById('round_trip').checked) {
      if (vehicleType == "Hatchback") {
	    document.getElementById('vehicle_rent').innerText = 1100;
        document.getElementById('kmFareByVehicle1').innerText = 6;
        document.getElementById('kmFareByVehicle2').innerText = 6;
        document.getElementById('totalKmAmount').innerText = kms * 6;
        totalKmAmount = kms * 6;
        perKmFare = 6;
        totalKm_rate = `${kms} X 6`;
		total_rent = 1100 ;
      }
      if (vehicleType == "Sedan") {
	  document.getElementById('vehicle_rent').innerText = 1200;
        document.getElementById('kmFareByVehicle1').innerText = 7;
        document.getElementById('kmFareByVehicle2').innerText = 7;
        document.getElementById('totalKmAmount').innerText = kms * 7;
        totalKmAmount = kms * 7;
        perKmFare = 7;
        totalKm_rate = `${kms} X 7`;
		total_rent = 1200 ;
      }
      if (vehicleType == "SUV") {
	    document.getElementById('vehicle_rent').innerText = 1500;
        document.getElementById('kmFareByVehicle1').innerText = 8;
        document.getElementById('kmFareByVehicle2').innerText = 8;
        document.getElementById('totalKmAmount').innerText = kms * 8;
        totalKmAmount = kms * 8;
        perKmFare = 8;
        totalKm_rate = `${kms} X 8`;
		total_rent = 1500 ;
      }
	  if (vehicleType == "SUV-Innova") {
	    document.getElementById('vehicle_rent').innerText = 1700;
        document.getElementById('kmFareByVehicle1').innerText = 9;
        document.getElementById('kmFareByVehicle2').innerText = 9;
        document.getElementById('totalKmAmount').innerText = kms * 9;
        totalKmAmount = kms * 9;
        perKmFare = 9;
        totalKm_rate = `${kms} X 9`;
		total_rent = 1700 ;
      }
      if (vehicleType == "Tempo") {
	    document.getElementById('vehicle_rent').innerText = 2500;
        document.getElementById('kmFareByVehicle1').innerText = 10;
        document.getElementById('kmFareByVehicle2').innerText = 10;
        document.getElementById('totalKmAmount').innerText = kms * 10;
        totalKmAmount = kms * 10;
        perKmFare = 10;
        totalKm_rate = `${kms} X 10`;
		total_rent = 2500 ;
      }
	  }
	  else if (document.getElementById('oneway_trip').checked) {
	    if (vehicleType == "Hatchback") {
	    document.getElementById('vehicle_rent').innerText = 0;
        document.getElementById('kmFareByVehicle1').innerText = 6;
        document.getElementById('kmFareByVehicle2').innerText = 6;
        document.getElementById('totalKmAmount').innerText = kms * 6;
        totalKmAmount = kms * 6;
        perKmFare = 6;
        totalKm_rate = `${kms} X 6`;
		total_rent = 0 ;
      }
      if (vehicleType == "Sedan") {
	  document.getElementById('vehicle_rent').innerText = 0;
        document.getElementById('kmFareByVehicle1').innerText = 7;
        document.getElementById('kmFareByVehicle2').innerText = 7;
        document.getElementById('totalKmAmount').innerText = kms * 7;
        totalKmAmount = kms * 7;
        perKmFare = 7;
        totalKm_rate = `${kms} X 7`;
		total_rent = 0 ;
      }
      if (vehicleType == "SUV") {
	    document.getElementById('vehicle_rent').innerText = 0;
        document.getElementById('kmFareByVehicle1').innerText = 8;
        document.getElementById('kmFareByVehicle2').innerText = 8;
        document.getElementById('totalKmAmount').innerText = kms * 8;
        totalKmAmount = kms * 8;
        perKmFare = 8;
        totalKm_rate = `${kms} X 8`;
		total_rent = 0 ;
      }
	  if (vehicleType == "SUV-Innova") {
	    document.getElementById('vehicle_rent').innerText = 0;
        document.getElementById('kmFareByVehicle1').innerText = 9;
        document.getElementById('kmFareByVehicle2').innerText = 9;
        document.getElementById('totalKmAmount').innerText = kms * 9;
        totalKmAmount = kms * 9;
        perKmFare = 9;
        totalKm_rate = `${kms} X 9`;
		total_rent = 0 ;
      }
      if (vehicleType == "Tempo") {
	    document.getElementById('vehicle_rent').innerText = 0;
        document.getElementById('kmFareByVehicle1').innerText = 10;
        document.getElementById('kmFareByVehicle2').innerText = 10;
        document.getElementById('totalKmAmount').innerText = kms * 10;
        totalKmAmount = kms * 10;
        perKmFare = 10;
        totalKm_rate = `${kms} X 10`;
		total_rent = 0 ;
      }
	  }
      var totalAmount = (250 * diffDays) + totalKmAmount + (total_rent * diffDays);
      document.getElementById('totalAmount').innerText = totalAmount;
      document.getElementById('completeData').innerHTML = `VehicleType: ${vehicleType}<br>Distance: ${kms} km<br>Per Km Fare: ₹${perKmFare}<br>
      Base Fare: ${totalKm_rate} = ₹${totalKmAmount}<br>Driver Allowance:(250/Day) ₹${driverAllowance}<br>Total Fare: ₹${totalAmount}`;
	  
	  
	  var content = document.getElementById('completeData').innerText;
	  document.getElementById("myText").value = content;
    }
  </script>

</head>

<body>

  <div class="jumbotron text-center" style="margin-bottom:0">
    <h1>My First Bootstrap 4 Page</h1>
    <p>Resize this responsive page to see the effect!</p>
  </div>

  <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <a class="navbar-brand" href="#">Navbar</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="collapsibleNavbar">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="#">Link</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Link</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Link</a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container-fluid" style="margin-top:30px">
     <input id="searchTextField" type="text" size="50">

        <div class="row">

      <div class="col-sm-10 offset-sm-1">
         <div class="">
	     <input type="radio" name="programType" id="round_trip" value="round_trip" /> Round Trip
<input type="radio" name="programType" id="oneway_trip" value="oneway_trip"/> One way Trip
	 </div>


        <!-- Tab panes -->

        <div class="row">
         
          <div class="form-group col-sm-2">
            <label>Vehicle Type</label>
            <div class="input-group date">
              <select id="vehicleTypes" class="form-control">
                <option selected disabled>Choose...</option>
                <option value="Hatchback">Hatchback</option>
                <option value="Sedan">Sedan</option>
                <option value="SUV">SUV</option>
			    <option value="SUV-Innova">SUV - Innova</option>
                <option value="Tempo">Tempo</option>
              </select>
            </div>
          </div>

          <div class="form-group col-sm-3">
            <label>From Date</label>
            <div id="datepicker-1" class="input-group date" data-date-format="dd-mm-yyyy">
              <input class="form-control" type="text" readonly />
              <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
            </div>
          </div>
          <div class="form-group col-sm-3">
            <label>To Date</label>
            <div id="datepicker-2" class="input-group date" data-date-format="dd-mm-yyyy">
              <input class="form-control" type="text" readonly />
              <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
            </div>
          </div>
          <div class="form-group col-sm-2">
            <label>KiloMeter</label>
            <div class="input-group date">
              <input class="form-control" id="dest" Placeholder="KM" type="number" maxlength="5" />

            </div>
          </div>
          <div class="form-group col-sm-2">
            <label class="visibility-none">Search</label>
            <button type="button" class="btn btn-success col-sm-12 " data-toggle="modal" data-target="#estimateModal" onclick="calculateDistances();">Estimate</button>

          </div>
        </div>
        <div class="row">
          <div class="col-sm-4 offset-sm-3">
            <h3>Estimation</h3>
            <ul>
			  <li><span class="pull-left">Vehicle rent per day</span><span class="pull-right">₹<b id="vehicle_rent"></b></span></li>
              <li><span class="pull-left">Fare Per KM</span><span class="pull-right">₹<b id="kmFareByVehicle1"></b></span></li>
              <li><span class="pull-left">Total KMs</span> <span class="pull-right" id="totalKm"></span></li>
              <li><span class="pull-left">Base Fare</span><span class="pull-right">₹<b id="kmFareByVehicle2"></b> * <span
                    id="totalKm2"></span>=
                  <span id="totalKmAmount"></span></span></li>

              <li><span class="pull-left">Driver Allowance</span> <span class="pull-right ng-binding" style="font-family:arial;">₹250/Day</span>
              </li>

              <!-- <li><span class="pull-left"><b>Total Amount</b></span> <span class="pull-right"><b id="totalAmount"></b></span></li> -->

            </ul>
            <button type="button" class="btn btn-primary mt-5 text-center" data-toggle="modal" data-target="#exampleModal">
              Book Now
            </button>
			
          </div>
       

            <!-- Modal -->
            <div class="modal fade" id="estimateModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
				     <li><span class="pull-left"><b>Total Amount</b></span> <span class="pull-right"><b id="totalAmount"></b></span></li>
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
				     
					  <input type="text" id="myText" value="Mickey">
                    <div id="completeData"></div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                  </div>
                </div>
              </div>
            </div>

          
        </div>
      </div>
    </div>
  </div>
  </div>
  


  <script type="text/javascript">
    $(function () {
      $("#datepicker-1,#datepicker-2").datepicker({
        autoclose: true,
        todayHighlight: true
      }).datepicker('update', new Date());
    });

  </script>

</body>

</html>